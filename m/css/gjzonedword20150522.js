var GJ_ZONEDWORD_ENGINE={m_nInterVal:0,m_ElementSearchTips:null,m_ElementMain:null,m_strGJGuid:"",m_strQuery:"",m_isIE:false,m_nIEVersion:-1,m_nBID:0,m_bNeedHandleElement:false,conf:{strSearchTipsId:"gjSearchTips",strZonedWordJSId:"gjzonedword20150522",strSearchUrl:"",strSEUrlDefault:"https://www.baidu.com/s?ie=utf8&tn=98012088_6_dg&ch=2&wd=%s",strSEUrlBaidu:"https://www.baidu.com/s?&ie=utf8&tn=96010190_3_dg&wd=%s",strSearchTipsCSS:"#strSearchTipsId { position: absolute; left: 9999999999em; z-index:999999999;width:56px; height:24px}						   #strSearchTipsId a { background: url(http://mat1.gtimg.com/www/sogou/sogou_tips_v1.png) no-repeat 0 0; display: block; width: auto; height: 24px; line-height: 24px; padding-left: 23px; color: #000; font-size: 12px; text-decoration: none; _position:relative; margin: -32px 0 0; }						   #strSearchTipsId a:hover { color:#45a1ea; background-position: 0 -34px }",nSearchMaxCnt:15,nSearchMinCnt:2,nGetReportMaxCnt:1024,arrExcludeWord:{"ew确定":"确定",ewcom:"com","ewhttp://":"http://",ewnginx:"nginx","ew...":"...","ew关闭":"关闭","ew搜索":"搜索"},strQBSearchID:"qb-sougou-search-style",strReoprtCgi:"http://c.gj.qq.com/fcgi-bin/mailreport",nReportInsertJsId:618067,nReportSearchId:618068,nReportTipsPopId:618069},init:function(f){if(!f||typeof f!="object"){return}this.m_ElementMain=f;var c=document.getElementById(this.conf.strZonedWordJSId);var h=0;this.conf.strSearchUrl=this.conf.strSEUrlDefault;if(c){this.m_strGJGuid=c.getAttribute("gjguid");h=parseInt(c.getAttribute("bid"));if(isNaN(h)){h=0}var e=c.getAttribute("sename");var b=c.getAttribute("seurl");if("string"==typeof(e)&&"\u767e\u5ea6\u641c\u7d22"==e){this.conf.strSearchUrl=this.conf.strSEUrlBaidu}else{if("string"==typeof(b)&&""!=b){this.conf.strSearchUrl=b}}}var g=this.isIEBrowser();this.m_isIE=g.isIE;this.m_nIEVersion=g.nVersion;this.m_nBID=h>0?h:(this.m_isIE?1:0);var d=this.GetRndName(5,10);if("string"==typeof(d)&&""!=d){this.conf.strSearchTipsId=d+"gjSTips"}this.conf.strSearchTipsCSS=this.conf.strSearchTipsCSS.replace(/strSearchTipsId/g,this.conf.strSearchTipsId);this.addEvent(f,"mousedown",this.onBodyMouseDown);this.addEvent(f,"mouseup",this.onBodyMouseUp)},isNeedHandle:function(){if(document.getElementById(GJ_ZONEDWORD_ENGINE.conf.strQBSearchID)){return false}return true},isNeedHandleElement:function(c){var b="";if(c.srcElement){b=c.srcElement.tagName.toLowerCase();if("button"==b||"input"==b||"textarea"==b){return false}}return true},isNumberOrHyphen:function(c){if(!isNaN(c)){return true}var b=/^[-0-9]+$/;if(b.test(c)){return true}return false},getTextLink:function(e){var b=/^((http|ftp|https):\/\/|www\.)[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:\/~\+#\*!]*[\w\-\.,@?^=%&:\/~\+#\*!])?$/;var c="";var d=e.match(b);if(d){c=d[0];if(0==c.indexOf("www.")){c="http://"+c}}return c},isExcludeWord:function(b){if(GJ_ZONEDWORD_ENGINE.conf.arrExcludeWord.hasOwnProperty("ew"+b)){return true}return false},isCanQueryString:function(e){var c={query:false,type:"text",data:""};var b=e.length;if(""!=e&&"\b"!=e&&b>=GJ_ZONEDWORD_ENGINE.conf.nSearchMinCnt&&b<=GJ_ZONEDWORD_ENGINE.conf.nSearchMaxCnt&&!GJ_ZONEDWORD_ENGINE.isNumberOrHyphen(e)&&!GJ_ZONEDWORD_ENGINE.isExcludeWord(e)){var d=GJ_ZONEDWORD_ENGINE.getTextLink(e);if(d!=""){c.query=false;c.type="link";c.data=d}else{c.query=true;c.type="text";c.data=e}return c}return c},isIEBrowser:function(){var b={isIE:false,nVersion:-1};var c=navigator.userAgent.toLowerCase();b.isIE=(c.indexOf("msie")>-1)||(navigator.appName.toLowerCase().indexOf("microsoft internet explorer")>-1)||!!window.ActiveXObject||"ActiveXObject" in window;if(b.isIE){var d=null;(d=c.match(/rv:([\d.]+)\) like gecko/))?b.nVersion=parseInt(d[1]):(d=c.match(/msie ([\d.]+)/))?b.nVersion=parseInt(d[1]):-1}return b},report:function(i,c,h){if(undefined===i){return}var g={};g.gjguid=this.m_strGJGuid;g.monitorid=i;g.bid=c;if(undefined===h){g.query=""}else{g.query=h}g.refer=encodeURIComponent(location.href);var f=0;for(var b in g){f+=b.toString().length+g[b].toString().length+2}if(f>this.conf.nGetReportMaxCnt){var d="&cut=1";var e=f-this.conf.nGetReportMaxCnt;if(g.refer.toString().length>=(e+d.length)){g.refer=g.refer.substr(0,g.refer.toString().length-e-d.length)}else{g.query=g.query.substr(0,g.query.toString().length-e-d.length)}g.cut="1"}this.getReport(this.conf.strReoprtCgi,g,this.conf.nGetReportMaxCnt)},getReport:function(e,h,d){if(undefined===e||undefined===h||""==e){return 0}var i="";var f="?";for(var b in h){i+=f+b+"="+h[b].toString();f="&"}if(""==i){return 0}var g=e+i;if("number"==typeof d&&g.length>d){g=g.substr(0,d)}var c=new Image(1,1);c.src=g;c.onerror=c.onload=null;c.complete;return g.length},addEvent:function(c,b,d){if(c.addEventListener){c.addEventListener(b,d,false);return true}else{if(c.attachEvent){c.attachEvent("on"+b,d);return true}}return false},getMousePoint:function(c){var b={x:0,y:0};if(typeof window.pageYOffset!="undefined"){b.x=window.pageXOffset;b.y=window.pageYOffset}else{if(typeof document.compatMode!="undefined"&&document.compatMode!="BackCompat"){b.x=document.documentElement.scrollLeft;b.y=document.documentElement.scrollTop}else{if(typeof document.body!="undefined"){b.x=document.body.scrollLeft;b.y=document.body.scrollTop}}}b.x+=c.clientX;b.y+=c.clientY;return b},onBodyMouseDown:function(c){var b=GJ_ZONEDWORD_ENGINE.m_ElementSearchTips;if(b&&typeof b=="object"){b.style.left="9999999999em";b.style.display="none"}if(c&&c.button==0){GJ_ZONEDWORD_ENGINE.m_bNeedHandleElement=GJ_ZONEDWORD_ENGINE.isNeedHandleElement(c)?true:false}},onBodyMouseUp:function(b){if(b&&b.button!=0){return}if(!GJ_ZONEDWORD_ENGINE.isNeedHandle()||!GJ_ZONEDWORD_ENGINE.m_bNeedHandleElement||!GJ_ZONEDWORD_ENGINE.isNeedHandleElement(b)){return}var c={clientX:b.clientX,clientY:b.clientY};setTimeout(function(){var d=GJ_ZONEDWORD_ENGINE.getSeleText();var f=GJ_ZONEDWORD_ENGINE.isCanQueryString(d);if(f.query){var e=null;if("text"==f.type){var h=encodeURIComponent(f.data);GJ_ZONEDWORD_ENGINE.m_strQuery=h;var g=GJ_ZONEDWORD_ENGINE.conf.strSearchUrl.toLowerCase().replace("%s",h);e=GJ_ZONEDWORD_ENGINE.creatTipsHtml(GJ_ZONEDWORD_ENGINE.m_ElementMain,GJ_ZONEDWORD_ENGINE.conf.strSearchTipsId,g,h,"搜索");if(e){point=GJ_ZONEDWORD_ENGINE.getMousePoint(c);e.style.left=point.x+8+"px";e.style.top=point.y-8+"px";e.style.display="block";GJ_ZONEDWORD_ENGINE.report(GJ_ZONEDWORD_ENGINE.conf.nReportTipsPopId,GJ_ZONEDWORD_ENGINE.m_nBID)}}else{if("link"==f.type){var g=f.data;GJ_ZONEDWORD_ENGINE.m_strQuery="";e=GJ_ZONEDWORD_ENGINE.creatTipsHtml(GJ_ZONEDWORD_ENGINE.m_ElementMain,GJ_ZONEDWORD_ENGINE.conf.strSearchTipsId,g,"","打开");if(e){point=GJ_ZONEDWORD_ENGINE.getMousePoint(c);e.style.left=point.x+"px";e.style.top=point.y+"px";e.style.display="block"}}}}},0);GJ_ZONEDWORD_ENGINE.m_bNeedHandleElement=false},getSeleText:function(){var b="";try{if(document.selection){if("None"!=document.selection.type){b=document.selection.createRange().text}}else{b=document.getSelection()}}catch(c){a=""}return GJ_ZONEDWORD_ENGINE.trim(b.toString())},trim:function(b){return b.replace(/(^\s*)|(\s*$)/g,"")},creatTipsHtml:function(g,l,k,j,i){if(document.getElementById(l)){var d=GJ_ZONEDWORD_ENGINE.m_ElementSearchTips.getElementsByTagName("A");if(d&&d.length>0){var e=d[0];if(e){e.setAttribute("href",k);e.setAttribute("query",j);e.innerHTML=i}}return GJ_ZONEDWORD_ENGINE.m_ElementSearchTips}if(!g||!g.appendChild){return null}var c=document.createElement("div");var h=document.createElement("a");if(c&&h){c.setAttribute("id",l);c.innerHTML="<style>"+GJ_ZONEDWORD_ENGINE.conf.strSearchTipsCSS+"</style>";h.setAttribute("href",k);h.setAttribute("query",j);h.setAttribute("target","_blank");h.innerHTML=i;GJ_ZONEDWORD_ENGINE.addEvent(h,"click",function(n){var o=GJ_ZONEDWORD_ENGINE.m_strQuery;var m=n.srcElement;if(m){var p=m.getAttribute("query");if("string"==typeof o||""!=o){o=p}}if(""!=o){GJ_ZONEDWORD_ENGINE.report(GJ_ZONEDWORD_ENGINE.conf.nReportSearchId,GJ_ZONEDWORD_ENGINE.m_nBID,o)}});GJ_ZONEDWORD_ENGINE.m_ElementSearchTips=c;c.appendChild(h);if(GJ_ZONEDWORD_ENGINE.m_isIE&&GJ_ZONEDWORD_ENGINE.m_nIEVersion>0&&GJ_ZONEDWORD_ENGINE.m_nIEVersion<9){var b=document.createElement("style");if(b){b.setAttribute("type","text/css");if(b.styleSheet){b.styleSheet.cssText=GJ_ZONEDWORD_ENGINE.conf.strSearchTipsCSS}else{var f=document.createTextNode(GJ_ZONEDWORD_ENGINE.conf.strSearchTipsCSS);b.appendChild(f)}c.appendChild(b)}}g.appendChild(c)}GJ_ZONEDWORD_ENGINE.addEvent(c,"mousedown",function(m){m.cancelBubble=true;return false});GJ_ZONEDWORD_ENGINE.addEvent(c,"mouseup",function(m){m.cancelBubble=true;return false});return c},GetRndInt:function(b,c){b=parseInt(b);c=parseInt(c);if(b>=c){return NaN}return parseInt(Math.random()*(c-b)+b)},GetRndName:function(b,g){var f=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];var c=this.GetRndInt(b,g);if(isNaN(c)){return""}var d=f[this.GetRndInt(0,f.length-9)];for(var e=0;e<c-1;++e){d+=f[this.GetRndInt(0,f.length)]}return d}};var GJ_ZONEDWORD={m_nInterVal:0,m_nTimeOut:500,start:function(){var b=this;if(!b.initZoneWord()){b.m_nInterVal=setInterval(function(){if(b.initZoneWord()){clearInterval(b.m_nInterVal)}},b.m_nTimeOut)}},getZonedWordElement:function(){return document.body},initZoneWord:function(){var b=GJ_ZONEDWORD.getZonedWordElement();if(b){GJ_ZONEDWORD_ENGINE.init(b);return true}return false}};GJ_ZONEDWORD.start();